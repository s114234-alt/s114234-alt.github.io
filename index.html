<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<title>水族箱水母遊戲</title>
<style>
/* ===== CSS：畫面外觀設定 ===== */
body {
font-family: Arial, sans-serif;
background: #e6f7ff;
display: flex;
flex-direction: column;
align-items: center;
}


h1 { margin: 10px; }


/* 水族箱容器 */
#tank {
position: relative;
width: 400px;
height: 500px;
background: linear-gradient(#b3ecff, #006699);
border: 4px solid #004466;
overflow: hidden;
}


/* 底部規則說明 */
#rules {
width: 400px;
background: #ffffff;
border: 1px solid #ccc;
padding: 10px;
margin-top: 10px;
font-size: 14px;
}
</style>
</head>
<body>
<h1>水族箱水母遊戲</h1>


<!-- Canvas 用來畫水母 -->
<canvas id="tank" width="400" height="500"></canvas>


<!-- 遊戲規則 -->
<div id="rules">
<strong>遊戲規則：</strong>
<ul>
<li>水母會從水面慢慢往下掉。</li>
<li>相同形狀的水母碰撞後會合併成更大的水母。</li>
<li>如果掉下來的水母沒有找到相同形狀，會堆積在底部。</li>
<li>當水母塞滿整個水族箱，遊戲會重新開始。</li>
</ul>
</div>


<script>
// ===== JavaScript：遊戲邏輯 =====


const canvas = document.getElementById('tank');
const ctx = canvas.getContext('2d');


const shapes = ['circle', 'square', 'triangle'];
let jellyfish = [];
let bottomCount = 0; // 底部堆積數量
const maxBottom = 6; // 超過就 Game Over


// 產生新的水母
function spawnJellyfish() {
const shape = shapes[Math.floor(Math.random() * shapes.length)];
jellyfish.push({
x: Math.random() * 360 + 20,
y: 0,
size: 15,
shape: shape,
speed: 1
});
}


// 畫水母
function drawJellyfish(j) {
ctx.fillStyle = 'rgba(255,255,255,0.8)';
ctx.beginPath();


if (j.shape === 'circle') {
ctx.arc(j.x, j.y, j.size, 0, Math.PI * 2);
} else if (j.shape === 'square') {
ctx.rect(j.x - j.size, j.y - j.size, j.size * 2, j.size * 2);
} else if (j.shape === 'triangle') {
ctx.moveTo(j.x, j.y - j.size);
ctx.lineTo(j.x - j.size, j.y + j.size);
ctx.lineTo(j.x + j.size, j.y + j.size);
ctx.closePath();
}
ctx.fill();
</html>
